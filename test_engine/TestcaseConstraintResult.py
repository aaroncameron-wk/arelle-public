"""
See COPYRIGHT.md for copyright information.
"""
from __future__ import annotations
from dataclasses import dataclass

from arelle.ModelValue import QName


@dataclass(frozen=True)
class TestcaseConstraintResult:
    code: str | QName
    diff: int

    def __str__(self):
        if self.diff == 0:
            message = f'Matched'
        elif self.diff < 0:
            message = f'× Missing {abs(self.diff)} expected'
        else:
            message = f'× {self.diff} unexpected'
        return f"{message} \"{self.code or '(any)'}\""
